<!DOCTYPE html>
<html lang="ko"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{common/layout}">

    <div layout:fragment="content" class="container my-3">

        <table class="table">
            <thead class="table-dark">
                <tr>
                    <th>번호</th>
                    <th>제목</th>
                    <th>작성일시</th>
                </tr>
            </thead>

            <!--
                th: = 자바 코드와 연결되는 속성
                th:each = questionList에 저장 된 데이터를 꺼낸 후 question에 저장,
                          개수만큼 반복해서 <tr></tr> 내용 출력
            -->
            <tbody>
                <tr th:each="question, loop : ${questionList}">
                    <td th:text="${loop.count}"></td>
                    <!--
                        - 제목 클릭 시 상세페이지로 이동
                        - thymeleaf에서 문자열+자바 객체 값 사용 시 반드시 | 기호로 감싸야 함
                    -->
                    <td>
                        <a th:href="@{|/question/detail/${question.id}|}" th:text="${question.subject}"></a>
                    </td>

                    <!-- 날짜 객체를 낙짜에 맞게 format하는 thymeleaf 기능 -->
                    <td th:text="${#temporals.format(question.createDate, 'yyyy-MM-dd HH:mm')}"></td>
                </tr>
            </tbody>
        </table>

        <!-- 질문 글쓰기 버튼 생성 -->
        <a th:href="@{/question/create}" class="btn btn-primary">글쓰기</a>

    </div>

</html>